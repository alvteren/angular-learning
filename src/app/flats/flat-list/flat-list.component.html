<h1>Flat List</h1>
<p *ngIf="fetchState === 'pending'">Loading...</p>
<div *ngIf="list$ | async as list">
    <div *ngIf="fetchState === 'fulfilled'">
        <div *ngIf="list.items.length>0; emptyList" >
            <app-pagination [count]="list.count" [page]="page" [size]="10"></app-pagination>
                <div class="list-group">
                    <a *ngFor="let flat of list.items" class="list-group-item list-group-item-action flex-column align-items-start" [routerLink]="['/flat',flat.id]">
                        <span class="d-flex w-100 justify-content-between"> 
                            <h5 class="mb-1">{{flat.address}}</h5>
                            <span>{{flat.price}}</span>
                        </span>
                        <p class="mb-1">
                            <span>{{flat.category.name}} {{flat.id}}</span>
                            <span *ngIf="flat.square">{{flat.square}} m2</span>
                        </p>
                    </a>
                </div>
            <app-pagination [count]="list.count" [page]="page" [size]="10"></app-pagination>
        </div>
        <ng-template #emptyList>
            <p>Flats not found</p>
        </ng-template>
    </div>
</div>
<p *ngIf="fetchState === 'rejected'" style="color: red;">Error</p>

